(self.webpackChunkacmsWebpackJsonp=self.webpackChunkacmsWebpackJsonp||[]).push([[187],{87307:function(t,e,s){var i=s(24994);e.default=void 0;var a=i(s(43693)),n=function(t){if("function"==typeof WeakMap){var e=new WeakMap;new WeakMap}return function(t){if(t&&t.__esModule)return t;var s,i,a={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return a;if(s=e){if(s.has(t))return s.get(t);s.set(t,a)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(i.get||i.set)?s(a,e,i):a[e]=t[e]);return a}(t)}(s(93597));class r{constructor(){(0,a.default)(this,"tabRepository",new Map)}static getInstance(){return r.instance||(r.instance=new r),r.instance}async apply(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const s={tabList:t,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};ACMS.Loaded(()=>{e.querySelectorAll(n.SELECTOR_TAB).forEach(e=>{null!==e.closest(t)&&(n.default.getOrCreateInstance(e,s),this.tabRepository.set(t,[...this.tabRepository.get(t)||[],e]))})})}destroy(t){const e=this.tabRepository.get(t);e&&(e.forEach(t=>{n.default.getOrCreateInstance(t).destroy()}),this.tabRepository.delete(t))}destroyAll(){for(const[,t]of this.tabRepository)t.forEach(t=>{n.default.getOrCreateInstance(t).destroy()});this.tabRepository.clear()}}e.default=r,(0,a.default)(r,"instance",null)},93597:function(t,e,s){var i=s(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.default=e.SELECTOR_TAB=void 0;var a=i(s(43693)),n=s(20392),r=s(19150);const o="ArrowLeft",l="ArrowRight",c="ArrowUp",h="ArrowDown",u="Home",d="End",b=e.SELECTOR_TAB='a[href^="#"], [role="tab"]',_=e.defaultOptions={tabList:".js-acms_admin_tabs",tabClass:"js-acms_tab",activeClass:"js-acms_tab-active",readyMark:".js-ready-acms_tabs",enableHashNavigation:!1,onShow:()=>{},onHide:()=>{}};class f{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.default)(this,"_element",void 0),(0,a.default)(this,"_tabList",void 0),(0,a.default)(this,"_options",void 0),(0,a.default)(this,"eventRegistry",new Map),this._options={..._,...e},this._element=t;const s=this._options.tabList instanceof HTMLElement?this._options.tabList:this._element.closest(this._options.tabList);if(!s)throw new TypeError(`${t.outerHTML} has not a valid parent ${this._options.tabList}`);this._tabList=s;const i=this._getTabs();this._setInitialAttributes(this._tabList,i),this._keydown=this._keydown.bind(this),this._click=this._click.bind(this),this._element.addEventListener("click",this._click),this._element.addEventListener("keydown",this._keydown),this.eventRegistry.set(this._element,[{type:"click",listener:this._click},{type:"keydown",listener:this._keydown}])}destroy(){delete this._element.Tab;for(const[t,e]of this.eventRegistry)e.forEach(e=>{let{type:s,listener:i,options:a}=e;t.removeEventListener(s,i,a)});this.eventRegistry.clear()}show(){const t=this._element;if(this._tabIsActive(t))return;const e=this._getActiveTab();e&&this._deactivate(e),this._activate(t);const s=this._getTargetPanel(t);if(this._enableHashNavigation()&&s&&`#${s.id}`!==location.hash){const t=s.id;"history"in window&&history.replaceState(null,"",`#${t}`),s.id=t}}get options(){return this._options}_activate(t){const e=this._getTargetPanel(t);t.classList.add(this._options.activeClass),null!==e&&((0,r.show)(e),e.setAttribute("aria-hidden","false")),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),this._options.onShow({tab:t,panel:e})}_deactivate(t){const e=this._getTargetPanel(t);t.classList.remove(this._options.activeClass),t.blur(),null!==e&&((0,r.hide)(e),e.setAttribute("aria-hidden","true")),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"),this._options.onHide({tab:t,panel:e})}_click(t){const{currentTarget:e}=t;e instanceof HTMLElement&&(["A","AREA"].includes(e.tagName)&&t.preventDefault(),(0,n.isDisabled)(e)||f.getOrCreateInstance(e).show())}_keydown(t){if(![o,l,c,h,u,d].includes(t.key))return;if(!(t.target instanceof HTMLElement))return;t.stopPropagation(),t.preventDefault();const e=this._getTabs().filter(t=>!(0,n.isDisabled)(t));let s;if([u,d].includes(t.key))s=e[t.key===u?0:e.length-1];else{const i=[l,h].includes(t.key);s=(0,n.getNextActiveElement)(e,t.target,i,!0)}s&&(s.focus({preventScroll:!0}),f.getOrCreateInstance(s).show())}_getTabs(){return Array.from(this._tabList.querySelectorAll(b))}_getActiveTab(){return this._getTabs().find(t=>this._tabIsActive(t))||null}_getReadyTab(){return this._getTabs().find(t=>t.matches(this._options.readyMark))||null}_getTabFromHash(){return this._getTabs().find(t=>(0,n.getSelector)(t)===location.hash)||null}_getInitialActiveTab(){if(this._enableHashNavigation()){const t=this._getTabFromHash();if(t)return t}return this._getReadyTab()||this._getTabs().at(0)}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");const s=this._getInitialActiveTab();s&&this._activate(s);for(const t of e)this._setInitialAttributesOnTab(t)}_setInitialAttributesOnTab(t){const e=this._tabIsActive(t),s=this._getOuterElement(t),i=this._getTargetPanel(t);t.classList.add(this._options.tabClass),t.setAttribute("aria-selected",e?"true":"false"),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),i&&(this._setAttributeIfNotExists(t,"aria-controls",i.id),this._setAttributeIfNotExists(t,"id",`${i.id}-tab`)),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=this._getTargetPanel(t);if(!e)return;const s=this._tabIsActive(t);this._setAttributeIfNotExists(e,"role","tabpanel"),this._setAttributeIfNotExists(e,"aria-hidden",s?"false":"true"),s||(e.style.display="none"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`)}_getTargetPanel(t){const e=(0,n.getSelector)(t);return e?document.querySelector(e):null}_setAttributeIfNotExists(t,e,s){t.hasAttribute(e)||t.setAttribute(e,s)}_tabIsActive(t){return t.classList.contains(this._options.activeClass)}_getOuterElement(t){return t.closest("li")||t}_enableHashNavigation(){return!!this._options.enableHashNavigation||!!this._options.readyMark.startsWith("#")}static getOrCreateInstance(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.Tab instanceof f)return t.Tab;const s=new f(t,e);return t.Tab=s,s}}e.default=f},20392:function(t,e){function s(t){return t&&(t=t.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),t}Object.defineProperty(e,"__esModule",{value:!0}),e.getNextActiveElement=function(t,e,s,i){const a=t.length;let n=t.indexOf(e);return-1===n?!s&&i?t[a-1]:t[0]:(n+=s?1:-1,i&&(n=(n+a)%a),t[Math.max(0,Math.min(n,a-1))])},e.getSelector=function(t){let e=t.getAttribute("data-target");if(!e||"#"===e){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),e=s&&"#"!==s?s.trim():null}return e?e.split(",").map(t=>s(t)).join(","):null},e.isDisabled=function(t){return!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||(t instanceof HTMLButtonElement&&void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")))},e.parseSelector=s}}]);