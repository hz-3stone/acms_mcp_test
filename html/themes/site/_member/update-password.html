@extends("/_layouts/base.html")

@section("head-title")
<title>パスワード変更 | %{BLOG_NAME}｜</title>
@endsection

@section("head-link")
@parent
<!-- 編集画面用カスタムCSSを読み込み -->
<link rel="stylesheet" href="/include/edit/custom.css">
@endsection

@section("head-js")
@parent
<!-- カスタムJSを記述 -->
<script src="/include/edit/custom.js" charset="UTF-8"></script>
@endsection

@section("page-title")
@include("/include/parts/page-title/mypage.html")
@endsection

@section(topicpath)
@include("/include/parts/topicpath/mypage.html", {"page_name": "パスワード変更"})
@endsection

@section("admin-part")
@endsection

@section("main")
<!-- BEGIN_MODULE Member_Update_Password -->
<div class="acms-container">
  <div class="container-sm">
    <h2 class="heading-lg acms-mb-8">パスワード変更</h2>

    <form action="" method="post" enctype="multipart/form-data">
      <div class="acms-member-main-box">
        <div class="acms-form">
          <!-- BEGIN success -->
          <div class="acms-alert acms-alert-info">パスワードを変更しました。</div>
          <!-- END success-->

          @include("/_member/parts/error.html")

          <!-- BEGIN_IF [{pass:validator#required}/eq/0] -->
          <div class="acms-alert acms-alert-danger">パスワードが入力されていません。</div>
          <!-- END_IF -->

          <!-- BEGIN_IF [{pass:validator#password}/eq/0] -->
          <div class="acms-alert acms-alert-danger">不正なパスワードです。別のパスワードを入力ください。</div>
          <!-- END_IF -->

          <!-- BEGIN_IF [{retype_pass:validator#equalTo}/eq/0] -->
          <div class="acms-alert acms-alert-danger">パスワードが一致しません。</div>
          <!-- END_IF -->

          <!-- BEGIN_IF [{reset:validator#isOperable}/eq/0] -->
          <div class="acms-alert acms-alert-danger">不正な操作です。</div>
          <!-- END_IF -->

          <!-- BEGIN notSuccessful -->
          <label for="input-password-pass" class="acms-member-form-label">新しいパスワード</label>
          <div class="js-password_strength">
            <input type="password" name="pass" value="" style="display:none;" />
            <input type="password" name="pass" value="{pass}" id="input-password-pass" class="js-input acms-form-large acms-form-block acms-form-width-full validator-result-{pass:validator#required} validator-result-{pass:validator#password}"<!-- BEGIN_IF [{passwordPolicyMessage}[delnl]/nem] --> aria-describedby="describe-input-text-pass"<!-- END_IF --> autocomplete="new-password" />
            <input type="hidden" name="user[]" value="pass" />
            <input type="hidden" name="pass:validator#required" />
            <div>
              <div class="js-meter acms-password-strength-meter acms-form-width-full"></div>
            </div>
            <span class="js-label acms-password-strength-label" role="alert"></span>
          </div>

          <label for="input-password-retype_pass" class="acms-member-form-label">新しいパスワードを確認</label>
          <input type="password" name="retype_pass" value="" style="display:none;" />
          <input type="password" name="retype_pass" value="{retype_pass}" id="input-password-retype_pass" class="acms-form-large acms-form-block acms-form-width-full validator-result-{retype_pass:validator#equalTo}" autocomplete="new-password" />
          <input type="hidden" name="user[]" value="retype_pass" />
          <input type="hidden" name="retype_pass:validator#equalTo" value="pass" id="validator-retype_pass-equalTo" />

          <!-- BEGIN passwordPolicyMessage:veil -->
          <p class="acms-member-input-caution" id="describe-input-text-pass">{passwordPolicyMessage}</p>
          <!-- END passwordPolicyMessage:veil -->

          <div class="acms-d-flex acms-justify-content-center acms-mt-8 acms-mt-md-12">
            <button type="submit" class="button is-width-lg" name="ACMS_POST_Member_Update_Password">パスワードを変更</button>
          </div>
          <!-- END notSuccessful -->
        </div>
      </div>
    </form>
  </div>
</div>
<!-- END_MODULE Member_Update_Password -->
@endsection
