<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>V2_Entry_GeoList</title>
    <link rel="stylesheet" href="src/highlight/atom-one-dark.min.css" />
    <link rel="stylesheet" href="src/snippets.css" />
    <script src="src/highlight/highlight.min.js"></script>
    <script src="src/highlight/javascript.min.js"></script>
    <script src="src/highlight/twig.min.js"></script>
    <script src="src/snippets.js"></script>
  </head>
  <body>
    <h1>V2_Entry_GeoList</h1>
    <pre class="acms-admin-customfield-maker"><code class="language-twig">
&#123;% set entryGeoList = module(&#039;V2_Entry_GeoList&#039;, null, &#123;
  bid: null,
  cid: null,
  eid: null,
  uid: null,
  page: PAGE,
  limit: null,
  keyword: null,
  tag: [],
  field: null,
  start: &#039;1000-01-01 00:00:00&#039;,
  end: &#039;9999-12-31 23:59:59&#039;
&#125;) %&#125;

&lt;div class=&quot;acms-margin-bottom-medium&quot;&gt;
  &#123;&#123; include(&#039;/admin/module/setting.twig&#039;, &#123; moduleInfo: entryGeoList.moduleInfo &#125;) &#125;&#125;

  &#123;% if not entryGeoList.hasLocation %&#125;
    &lt;p&gt;現在位置を取得できませんでした。&lt;/p&gt;
  &#123;% endif %&#125;

  &#123;% if entryGeoList.hasLocation and entryGeoList.items is empty %&#125;
    &lt;p&gt;近くの記事は見つかりませんでした。&lt;/p&gt;
  &#123;% endif %&#125;

  &lt;div class=&quot;acms-cssgrid acms-g-cols-1 acms-g-cols-md-3&quot;&gt;
    &#123;% for item in entryGeoList.items %&#125;
    &lt;div&gt;
      &lt;div class=&quot;acms-summary&quot;&gt;
        &lt;div class=&quot;acms-summary-image&quot;&gt;
          &#123;% if item.mainImage.path %&#125;
            &lt;img
              src=&quot;&#123;&#123; item.mainImage.path | resizeImg(100,100) &#125;&#125;&quot;
              alt=&quot;&#123;&#123; item.alt &#125;&#125;&quot;
              width=&quot;100&quot;
              height=&quot;100&quot;
              loading=&quot;lazy&quot;
              decoding=&quot;async&quot;
            &gt;
          &#123;% else %&#125;
            &lt;img src=&quot;/images/default/noimage.gif&quot; alt=&quot;noimage&quot; width=&quot;100&quot; loading=&quot;lazy&quot; decoding=&quot;async&quot; /&gt;
          &#123;% endif %&#125;
        &lt;/div&gt;
        &lt;div class=&quot;acms-summary-body&quot;&gt;
          &lt;h3&gt;&#123;&#123; item.title &#125;&#125;&lt;/h3&gt;
          &lt;p&gt;&#123;&#123; item.summary &#125;&#125;&lt;/p&gt;
          &lt;p&gt;&#123;&#123; item.geo.distance | number_format &#125;&#125;m&lt;/p&gt;
          &lt;p&gt;&lt;a href=&quot;&#123;&#123; item.url &#125;&#125;&quot; class=&quot;acms-btn&quot;&gt;詳細をみる&lt;/a&gt;&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &#123;% endfor %&#125;
  &lt;/div&gt;

  &lt;!-- ページネーション --&gt;
  &#123;&#123;
    include(&#039;/include/pagination.twig&#039;, &#123;
      pagination: entryGeoList.pagination,
    &#125;)
  &#125;&#125;
&lt;/div&gt;
    </code></pre>
  </body>
</html>
