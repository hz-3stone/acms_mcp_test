<header>
  <div>@include("/admin/topicpath.html")</div>
  <div>
    <h1 class="acms-admin-admin-title js-dialog-title"><!--T-->ログイン履歴<!--/T--></h1>
  </div>
</header>

<!-- BEGIN_MODULE Admin_Login_History -->

<!-- 検索 -->
<div class="acms-admin-filter">
  <form action="" method="post" class="acms-admin-form">
    <div class="acms-admin-filter-body">
      <div class="acms-admin-filter-group">
        <p class="acms-admin-filter-label"><!--T-->検索条件<!--/T--></p>

        <div class="acms-admin-filter-content acms-admin-filter-content-fit">
          <div class="acms-admin-filter-item">
            <label for="filter-author" class="acms-admin-filter-item-name"><!--T-->権限<!--/T--></label>
            <select name="auth" id="filter-author" class="js-select2">
              <option value=""><!--T-->全ての権限<!--/T--></option>
              <option value="administrator" {auth:selected#administrator}><!--T-->管理者<!--/T--></option>
              <option value="editor" {auth:selected#editor}><!--T-->編集者<!--/T--></option>
              <option value="contributor" {auth:selected#contributor}><!--T-->投稿者<!--/T--></option>
              <option value="subscriber" {auth:selected#subscriber}><!--T-->読者<!--/T--></option>
            </select>
            <input type="hidden" name="query[]" value="auth" />
          </div>
          <div class="acms-admin-filter-item acms-admin-filter-item-full">
            <label for="filter-keyword" class="acms-admin-filter-item-name"><!--T-->キーワード<!--/T--></label>
            <input
              type="text"
              name="keyword"
              id="filter-keyword"
              value="%{KEYWORD}"
              class="acms-admin-form-width-large"
              placeholder="<!--T-->ユーザーの名前・メールアドレス・カスタムフィールドの値から検索（複数指定可）<!--/T-->"
            />
          </div>
        </div>
      </div>

      <div id="search-detail" style="display: none">
        <div class="acms-admin-filter-inner">
          <div class="acms-admin-filter-group">
            <p class="acms-admin-filter-label"><!--T-->詳しい条件<!--/T--></p>
            <div class="acms-admin-filter-content">
              <div class="acms-admin-filter-item">
                <select name="status" class="js-select2">
                  <option value=""><!--T-->全てのステータス<!--/T--></option>
                  <option value="open" {status:selected#open}><!--T-->有効<!--/T--></option>
                  <option value="close" {status:selected#close}><!--T-->無効<!--/T--></option>
                  <option value="pseudo" {status:selected#pseudo}><!--T-->仮登録<!--/T--></option>
                  <option value="withdrawal" {status:selected#withdrawal}><!--T-->退会<!--/T--></option>
                </select>
                <input type="hidden" name="query[]" value="status" />
              </div>

              <!-- BEGIN_MODULE Admin_Blog_Select -->
              <div class="acms-admin-filter-item">
                <select name="_bid" style="width: 200px" class="js-select2">
                  <option value=""><!--T-->現在のブログ<!--/T--></option>
                  <!-- BEGIN loop -->
                  <option value="{value}" {selected}>{indent}[raw]{label}</option>
                  <!-- END loop -->
                </select>
                <input type="hidden" name="query[]" value="_bid" />
              </div>
              <!-- END_MODULE Admin_Blog_Select -->

              <!-- BEGIN axis -->
              <div class="acms-admin-filter-item">
                <input type="hidden" name="axis" value="self" />
                <div class="acms-admin-form-checkbox">
                  <input
                    type="checkbox"
                    name="axis"
                    value="descendant-or-self"
                    {axis:checked#descendant-or-self}
                    id="input-checkbox-axis-descendant-or-self"
                  />
                  <label for="input-checkbox-axis-descendant-or-self">
                    <i class="acms-admin-ico-checkbox"></i
                    ><!--T-->下階層のブログも表示<!--/T-->
                  </label>
                </div>
                <input type="hidden" name="query[]" value="axis" />
              </div>
              <!-- END axis -->
            </div>
          </div>
          <div class="acms-admin-filter-group">
            <p class="acms-admin-filter-label"><!--T-->絞り込み<!--/T--></p>
            <div class="acms-admin-filter-content">
              <div class="acms-admin-filter-item">
                <label for="filter-sort" class="acms-admin-filter-item-name acms-admin-show-sp"
                  ><!--T-->ソート<!--/T--></label
                >
                <select name="order" id="filter-sort" class="js-select2">
                  <option value="last_access_datetime-desc" {order:selected#last_access_datetime-desc}>
                    <!--T-->最終アクセス日時<!--/T-->（<!--T-->降順<!--/T-->）
                  </option>
                  <option value="last_access_datetime-asc" {order:selected#last_access_datetime-asc}>
                    <!--T-->最終アクセス日時<!--/T-->（<!--T-->昇順<!--/T-->）
                  </option>
                </select>
              </div>
              <div class="acms-admin-filter-item">
                <label for="filter-limit" class="acms-admin-filter-item-name acms-admin-show-sp"
                  ><!--T-->表示数<!--/T--></label
                >
                <select name="limit" id="filter-limit" class="js-select2">
                  <!-- BEGIN limit:loop -->
                  <option value="{value}" {selected}>{value}</option>
                  <!-- END limit:loop -->
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="acms-admin-filter-footer">
      <input
        type="submit"
        name="ACMS_POST_2GET"
        value="<!--T-->検索<!--/T-->"
        class="acms-admin-btn acms-admin-btn-info acms-admin-btn-search"
      />
      <input type="hidden" name="admin" value="login_history" />

      <p class="acms-admin-filter-detail-btn">
        <a href="#search-detail" class="js-admin-fader"
          ><span class="acms-admin-icon-arrow-right"></span
          ><!--T-->詳細検索<!--/T--></a
        >
      </p>
    </div>
  </form>
</div>
<!-- 検索ここまで -->

<!-- BEGIN index#notFound -->
<div class="acms-admin-announce">
  <h2 class="acms-admin-announce-title">
    <span class="acms-admin-icon acms-admin-icon-news"></span
    ><!--T-->該当するログイン履歴が見つかりませんでした<!--/T-->
  </h2>
  <p class="acms-admin-announce-text">
    <!--T-->検索内容に一致したログイン履歴はありませんでした。<!--/T-->
  </p>
</div>
<!-- END index#notFound -->

<!-- BEGIN users:veil -->
<div class="acms-admin-table-scroll-xs acms-admin-table-scroll-sm acms-admin-table-scroll-md acms-admin-clear">
  <table class="acms-admin-table-admin acms-admin-table-hover">
    <thead class="acms-admin-table-heading">
      <tr>
        <th class="acms-admin-table-nowrap">ID</th>
        <th class="acms-admin-table-nowrap">
          <!--T-->ユーザー名<!--/T-->
          /
          <!--T-->ユーザーID<!--/T-->
          /
          <!--T-->メールアドレス<!--/T-->
        </th>
        <th class="acms-admin-table-nowrap"><!--T-->最終アクセス時間<!--/T--></th>
        <th class="acms-admin-table-nowrap"><!--T-->IPアドレス<!--/T--></th>
        <th><!--T-->User Agent<!--/T--></th>
        <th class="acms-admin-table-nowrap"><!--T-->権限<!--/T--></th>
        <th class="acms-admin-table-nowrap"><!--T-->ステータス<!--/T--></th>
        <th class="acms-admin-table-nowrap"><!--T-->アクション<!--/T--></th>
      </tr>
    </thead>
    <tbody>
      <!-- BEGIN user:loop -->
      <tr>
        <td><span class="acms-admin-label label-default">{uid}</span></td>
        <td class="acms-admin-show-sp acms-admin-width-sp">
          <div class="acms-admin-summary">
            <div class="acms-admin-summary-img acms-admin-margin-right-small acms-admin-cell-text-middle">
              <img
                src="%{ARCHIVES_DIR}{icon}"
                width="40"
                height="40"
                alt="%{SESSION_USER_NAME}"
                class="acms-admin-user"
              />
            </div>
            <div class="acms-admin-summary-body"><strong>{name}</strong> / {code}<br />{mail}</div>
          </div>
        </td>
        <td>{datetime}[datetime('Y/m/d H:i')]</td>
        <td class="acms-admin-table-nowrap">{remoteAddr}</td>
        <td>{userAgent}</td>
        <td class="acms-admin-table-nowrap">
          <span class="acms-admin-hide-tablet acms-admin-hide-pc"><!--T-->権限：<!--/T--></span>
          <!-- BEGIN auth#administrator -->
          <!--T-->管理者<!--/T--><!-- END auth#administrator --><!-- BEGIN auth#editor -->
          <!--T-->編集者<!--/T--><!-- END auth#editor --><!-- BEGIN auth#contributor -->
          <!--T-->投稿者<!--/T--><!-- END auth#contributor --><!-- BEGIN auth#subscriber -->
          <!--T-->読者<!--/T--><!-- END auth#subscriber -->

          <!-- BEGIN auth_default#administrator -->
          <!--T-->（管理者）<!--/T--><!-- END auth_default#administrator --><!-- BEGIN auth_default#editor -->
          <!--T-->(編集者)<!--/T--><!-- END auth_default#editor --><!-- BEGIN auth_default#contributor -->
          <!--T-->(投稿者)<!--/T--><!-- END auth_default#contributor --><!-- BEGIN auth_default#subscriber -->
          <!--T-->(読者)<!--/T--><!-- END auth_default#subscriber -->
        </td>
        <td class="acms-admin-text-center">
          <span class="acms-admin-hide-tablet acms-admin-hide-pc"><!--T-->ステータス：<!--/T--></span>
          <!-- BEGIN_IF [{expiry}/eq/expired] -->
          <span class="acms-admin-label acms-admin-label-danger">期限切れ</span>
          <!-- ELSE -->
          <!-- BEGIN status#open -->
          <span class="acms-admin-label acms-admin-label-info"><!--T-->有効<!--/T--></span>
          <!-- END status#open -->
          <!-- BEGIN status#pseudo -->
          <span class="acms-admin-label acms-admin-label-warning"><!--T-->仮登録<!--/T--></span>
          <!-- END status#pseudo -->
          <!-- BEGIN status#withdrawal -->
          <span class="acms-admin-label acms-admin-label-danger"><!--T-->退会<!--/T--></span>
          <!-- END status#withdrawal -->
          <!-- BEGIN status#close -->
          <span class="acms-admin-label"><!--T-->無効<!--/T--></span>
          <!-- END status#close -->
          <!-- END_IF -->
        </td>
        <td class="acms-admin-table-nowrap">
          <a href="{itemUrl}?edit=update" class="acms-admin-btn"><!--T-->移動<!--/T--></a>
        </td>
      </tr>
      <!-- END user:loop -->
    </tbody>
  </table>
</div>

<div class="acms-admin-cssgrid acms-admin-mt-5">@include("/admin/include/pagination.html")</div>
<!-- END users:veil -->
<!-- END_MODULE Admin_Login_History -->
